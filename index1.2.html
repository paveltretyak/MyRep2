<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

  <script>
    let money;
    let time;

    function start() {
      money = +prompt ('Ваш бюджет на месяц?');
      time = prompt ('Введите дату в формате YYYY-MM-DD');
      while (isNaN(money) || money == '' || money == null) {
        money = +prompt ('Ваш бюджет на месяц?');
      }
    };
    start();
    
    let timeData = {
        budget: money,
        timeData: time,
        expenses: {},
        optionalExpenses: {},
        income: [],
        savings: true,
        chooseExpenses: function() {
          for (let i = 0; i < 2; i++) {
            let a = prompt ('Введите обязательную статью расходов в этом месяце', '');
            let b = prompt ('Во сколько обойдется?', '');

            if ( (typeof(a)) === 'string' && (typeof(a)) != null && (typeof(b)) != null
            && a != '' && b != '' && a.length < 50) {
              console.log('done');
              timeData.expenses[a] = b;
            } else {
                alert ('Введите корректные данные!');
                i = 0;
              }
          }      
        },
        detectDayBudget: function() {
          timeData.moneyPerDay = (money/30).toFixed();
          alert ('Ваш бюджет на 1 день = ' + timeData.moneyPerDay);
        },
        detectLevel: function() {
          if (timeData.moneyPerDay < 1000) {
            console.log ('Минимальный уровень достатка');
          } else if (timeData.moneyPerDay <= 2000) {
              console.log ('Средний уровень достатка');
            } else if (timeData.moneyPerDay > 3000) {
                console.log ('Высокий уровень достатка');
              } else {
                  console.log ('Произошла ошибка');
                }
        },
        checkSavings: function() {
          if (timeData.savings == true) {
            let save = +prompt('Какова сумма накоплений?');
            let percent = +prompt('Под какой процент?');
            timeData.monthIncome = (save/100/10) * percent;
            alert('Доход в месяц с вашего депозита: ' + timeData.monthIncome);
          }
        },
        chooseOptExpenses: function() {
          for (let i = 1; i <= 3 ; i++) {
            let q = prompt ('Статья необязательных расходов?');
            timeData.optionalExpenses[i] = q;
          }
        },
        chooseIncome: function() {
          let items = prompt('Что принесет дополнительный доход? (Перечислите через запятую)', '');
          if (typeof(items) == 'string' && items != '' && items != null) {
            timeData.income = items.split(', ');
            timeData.income.push(prompt('Может что-то еще?'));
            timeData.income.sort();
          } else {
            alert('Ошибка при вводе данных');
          }
          timeData.income.forEach(function(item, i) {
            alert('Способы доп.заработка: '+ (i+1) + ' ' + item);
          });
        }
    };

    for (let key in timeData) {
      console.log('Наша программа включает в себя данные: ' + timeData[key]); 
    }
    /*
    let i = 0;
    while (i < 2) {
      let a = prompt ('Введите обязательную статью расходов в этом месяце', '');
      let b = prompt ('Во сколько обойдется?', '');
      i++;

      if ( (typeof(a)) === 'string' && (typeof(a)) != null && (typeof(b)) != null
      && a != '' && b != '' && a.length < 50) {
        console.log('done');
        timeData.expenses[a] = b;
      } else {
        alert ('Введите корректные данные!');
        i = 0;
      }

    };
    
    
    let i = 0;
    do {
      let a = prompt ('Введите обязательную статью расходов в этом месяце', '');
      let b = prompt ('Во сколько обойдется?', '');
      if ( (typeof(a)) === 'string' && (typeof(a)) != null && (typeof(b)) != null
      && a != '' && b != '' && a.length < 50) {
        console.log('done');
        timeData.expenses[a] = b;
      } else {
        alert ('Введите корректные данные!');
        i = 0;
      }
      i++;
    }
    while (i < 2);
    */
    
    
    
    
 

    

   
  </script>

</body>

</html>